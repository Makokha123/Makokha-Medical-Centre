# Copy to .env and fill with your Daraja credentials
# NOTE: Callback URLs MUST be publicly reachable (use a real domain or ngrok).

# -------------------------------
# Google OAuth Configuration
# -------------------------------
# Required for Google account login
# Get these from Google Cloud Console: https://console.cloud.google.com/
# 1. Create a new project or select existing
# 2. Enable Google+ API
# 3. Create OAuth 2.0 credentials
# 4. Add authorized redirect URI: http://localhost:5000/auth/google/callback (or your domain)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:5000/auth/google/callback

# -------------------------------
# Daraja environment
# -------------------------------
MPESA_ENV=sandbox
MPESA_BASE_URL=https://sandbox.safaricom.co.ke
MPESA_HTTP_TIMEOUT=45

# -------------------------------
# OAuth (Daraja app)
# -------------------------------
MPESA_CONSUMER_KEY=
MPESA_CONSUMER_SECRET=

# -------------------------------
# Incoming payments (Till / Buy Goods)
# -------------------------------
MPESA_TILL_SHORTCODE=
MPESA_PASSKEY=

# STK Push callback (M-Pesa Express)
MPESA_STK_CALLBACK_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/stk/callback

# If your setup supports C2B-style callbacks for Till, configure these too
MPESA_C2B_VALIDATION_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/c2b/validation
MPESA_C2B_CONFIRMATION_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/c2b/confirmation

# Optional: used to attribute webhook-posted ledger entries to a real user id
# (Recommended: set this to an admin user id if you want ledger entries for C2B confirmations)
MPESA_SYSTEM_USER_ID=

# -------------------------------
# Manual Till fallback verification (Transaction Status Query)
# -------------------------------
# These are needed if you want staff to verify an M-Pesa code when no callbacks arrive.
MPESA_INITIATOR_NAME=
MPESA_SECURITY_CREDENTIAL=
MPESA_OUTGOING_SHORTCODE=

MPESA_TRANSACTION_STATUS_ENDPOINT=/mpesa/transactionstatus/v1/query
MPESA_TRANSACTION_STATUS_RESULT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/transaction-status/result
MPESA_TRANSACTION_STATUS_TIMEOUT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/transaction-status/timeout

# -------------------------------
# Outgoing payments (Admin)
# -------------------------------
# B2C (phone payouts)
MPESA_B2C_ENDPOINT=/mpesa/b2c/v1/paymentrequest
MPESA_B2C_RESULT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/payout/result
MPESA_B2C_TIMEOUT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/payout/timeout

# B2B (PayBill/Till to businesses)
MPESA_B2B_ENDPOINT=/mpesa/b2b/v1/paymentrequest
MPESA_B2B_RESULT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/payout/result
MPESA_B2B_TIMEOUT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/payout/timeout

# B2Pochi (varies by setup; fill the correct endpoint for your enabled product)
MPESA_B2POCHI_ENDPOINT=
MPESA_B2POCHI_RESULT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/payout/result
MPESA_B2POCHI_TIMEOUT_URL=https://YOUR_PUBLIC_DOMAIN/api/mpesa/payout/timeout
